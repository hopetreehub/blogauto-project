#!/usr/bin/env python3
"""
ìŠ¤ë§ˆíŠ¸ ì½˜í…ì¸  ìƒì„±ê¸°
í‚¤ì›Œë“œ íŠ¹ì„±ì— ë§ëŠ” ë§ì¶¤í˜• ì½˜í…ì¸  ìƒì„±
"""

import random
import re
from datetime import datetime
from typing import Dict, List, Tuple

class SmartContentGenerator:
    
    def __init__(self):
        # í‚¤ì›Œë“œ ì¹´í…Œê³ ë¦¬ë³„ í…œí”Œë¦¿
        self.category_templates = {
            "health": {
                "intro_styles": [
                    "ê±´ê°• ê´€ë ¨ ìµœì‹  ì—°êµ¬ì™€ ì „ë¬¸ê°€ ì¡°ì–¸ì„ ë°”íƒ•ìœ¼ë¡œ",
                    "ì˜í•™ê³„ì—ì„œ ì£¼ëª©ë°›ê³  ìˆëŠ”",
                    "ìš°ë¦¬ ëª¸ì— ì§ì ‘ì ì¸ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ”",
                    "ê±´ê°•í•œ ë¼ì´í”„ìŠ¤íƒ€ì¼ì„ ìœ„í•œ í•µì‹¬"
                ],
                "main_sections": [
                    "ì˜ì–‘í•™ì  ê´€ì ì—ì„œ ë³¸ íš¨ê³¼",
                    "ì‹¤ì œ ê±´ê°• ê°œì„  ì‚¬ë¡€",
                    "ì „ë¬¸ì˜ë“¤ì´ ê¶Œí•˜ëŠ” ë°©ë²•",
                    "ì¼ìƒì—ì„œ ì‰½ê²Œ ì‹¤ì²œí•˜ëŠ” íŒ",
                    "ì£¼ì˜ì‚¬í•­ê³¼ ë¶€ì‘ìš©",
                    "ê³¼í•™ì  ê·¼ê±°ì™€ ì—°êµ¬ ê²°ê³¼"
                ],
                "practical_tips": [
                    "ë§¤ì¼ ì‹¤ì²œí•  ìˆ˜ ìˆëŠ” ê°„ë‹¨í•œ ë°©ë²•",
                    "ë°”ìœ í˜„ëŒ€ì¸ì„ ìœ„í•œ ì‹œê°„ ì ˆì•½ íŒ",
                    "ë¹„ìš© íš¨ìœ¨ì ì¸ ê±´ê°• ê´€ë¦¬ë²•",
                    "ê°€ì¡± ëª¨ë‘ê°€ í•¨ê»˜í•  ìˆ˜ ìˆëŠ” ë°©ë²•"
                ]
            },
            "food": {
                "intro_styles": [
                    "ì˜ì–‘ ì „ë¬¸ê°€ë“¤ì´ ê°•ë ¥ ì¶”ì²œí•˜ëŠ”",
                    "ë§›ê³¼ ê±´ê°•ì„ ëª¨ë‘ ì¡ì€",
                    "ìš”ë¦¬ ì´ˆë³´ìë„ ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆëŠ”",
                    "ì „ ì„¸ê³„ì ìœ¼ë¡œ ì¸ì •ë°›ì€"
                ],
                "main_sections": [
                    "ì˜ì–‘ ì„±ë¶„ê³¼ ê±´ê°• íš¨ëŠ¥",
                    "ë§›ìˆê²Œ ìš”ë¦¬í•˜ëŠ” ë°©ë²•",
                    "ë³´ê´€ë²•ê³¼ ì„ íƒ ìš”ë ¹",
                    "ë‹¤ì–‘í•œ ë ˆì‹œí”¼ ì•„ì´ë””ì–´",
                    "ì˜ì–‘ì†Œ í¡ìˆ˜ë¥¼ ë†’ì´ëŠ” ì¡°í•©",
                    "ê³„ì ˆë³„ í™œìš©ë²•"
                ]
            },
            "business": {
                "intro_styles": [
                    "ì„±ê³µí•œ ê¸°ì—…ë“¤ì´ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ”",
                    "ë¹„ì¦ˆë‹ˆìŠ¤ ì „ë¬¸ê°€ë“¤ì´ ê²€ì¦í•œ",
                    "ì‹¤ì œ ë§¤ì¶œ ì¦ëŒ€ë¡œ ì´ì–´ì§„",
                    "ê¸€ë¡œë²Œ íŠ¸ë Œë“œë¡œ ìë¦¬ì¡ì€"
                ],
                "main_sections": [
                    "ë‹¨ê³„ë³„ ì‹¤í–‰ ì „ëµ",
                    "ì„±ê³µ ì‚¬ë¡€ì™€ ì‹¤íŒ¨ ì›ì¸ ë¶„ì„",
                    "ROI ì¸¡ì •ê³¼ ì„±ê³¼ í‰ê°€",
                    "ìœ„í—˜ ìš”ì†Œì™€ ëŒ€ì‘ ë°©ì•ˆ",
                    "ì—…ê³„ ì „ë¬¸ê°€ ì¸í„°ë·°",
                    "ë¯¸ë˜ ì „ë§ê³¼ ì¤€ë¹„ì‚¬í•­"
                ]
            },
            "lifestyle": {
                "intro_styles": [
                    "ë¼ì´í”„ìŠ¤íƒ€ì¼ ì „ë¬¸ê°€ë“¤ì´ ì œì•ˆí•˜ëŠ”",
                    "ì‹¤ì œ ì‚¶ì˜ ì§ˆì„ ë†’ì—¬ì£¼ëŠ”",
                    "ë°”ìœ ì¼ìƒ ì†ì—ì„œë„ ì‹¤ì²œ ê°€ëŠ¥í•œ",
                    "ì§€ì† ê°€ëŠ¥í•œ í–‰ë³µì„ ìœ„í•œ"
                ],
                "main_sections": [
                    "ì¼ìƒ ë£¨í‹´ì— ì ìš©í•˜ëŠ” ë°©ë²•",
                    "ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ì™€ ê· í˜• ì¡ê¸°",
                    "ì‹œê°„ íš¨ìœ¨ì„± ë†’ì´ëŠ” íŒ",
                    "ê´€ê³„ ê°œì„ ê³¼ ì†Œí†µ ë°©ë²•",
                    "ìê¸°ê³„ë°œê³¼ ì„±ì¥ ì „ëµ",
                    "ì—¬ê°€ í™œìš©ê³¼ ì·¨ë¯¸ ìƒí™œ"
                ]
            },
            "technology": {
                "intro_styles": [
                    "ìµœì‹  ê¸°ìˆ  ë™í–¥ì„ ë°˜ì˜í•œ",
                    "IT ì „ë¬¸ê°€ë“¤ì´ ì‹¤ë¬´ì—ì„œ ê²€ì¦í•œ",
                    "ì´ˆë³´ìë„ ì´í•´í•˜ê¸° ì‰¬ìš´",
                    "ì‹¤ì œ í˜„ì¥ì—ì„œ í™œìš©ë˜ëŠ”"
                ],
                "main_sections": [
                    "ê¸°ìˆ ì  ì›ë¦¬ì™€ ì‘ë™ ë°©ì‹",
                    "ì‹¤ë¬´ ì ìš© ì‚¬ë¡€ì™€ í™œìš©ë²•",
                    "ë„êµ¬ ì„ íƒê³¼ ì„¤ì • ê°€ì´ë“œ",
                    "ë¬¸ì œ í•´ê²°ê³¼ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…",
                    "ë³´ì•ˆê³¼ ë°ì´í„° ë³´í˜¸",
                    "ìµœì‹  ì—…ë°ì´íŠ¸ì™€ ë¯¸ë˜ ì „ë§"
                ]
            }
        }
        
        # í‚¤ì›Œë“œ ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜ íŒ¨í„´
        self.category_patterns = {
            "health": ["ê±´ê°•", "ë©´ì—­", "ë‹¤ì´ì–´íŠ¸", "ìš´ë™", "ì²´ì¤‘", "ì§ˆë³‘", "ì¹˜ë£Œ", "ì˜ˆë°©", "ì˜í•™", "ë³‘ì›", "ì•½ë¬¼"],
            "food": ["ì‹ë‹¨", "ìŒì‹", "ìš”ë¦¬", "ë ˆì‹œí”¼", "ì˜ì–‘", "ë‹¤ì´ì–´íŠ¸", "ì‹í’ˆ", "ì±„ì†Œ", "ê³¼ì¼", "ê³ ê¸°", "ìƒì„ "],
            "business": ["ë¹„ì¦ˆë‹ˆìŠ¤", "ì‚¬ì—…", "ì°½ì—…", "íˆ¬ì", "ë§ˆì¼€íŒ…", "ì„¸ì¼ì¦ˆ", "ìˆ˜ìµ", "ì „ëµ", "ê²½ì˜", "ë¦¬ë”ì‹­"],
            "lifestyle": ["ë¼ì´í”„ìŠ¤íƒ€ì¼", "ì·¨ë¯¸", "ì—¬í–‰", "ê´€ê³„", "ì—°ì• ", "ê²°í˜¼", "ìœ¡ì•„", "íŒ¨ì…˜", "ë·°í‹°", "ì¸í…Œë¦¬ì–´"],
            "technology": ["ê¸°ìˆ ", "IT", "í”„ë¡œê·¸ë˜ë°", "ì•±", "ì†Œí”„íŠ¸ì›¨ì–´", "ì¸ê³µì§€ëŠ¥", "ë¸”ë¡ì²´ì¸", "í´ë¼ìš°ë“œ", "ë³´ì•ˆ"]
        }

    def categorize_keyword(self, keyword: str) -> str:
        """í‚¤ì›Œë“œë¥¼ ì¹´í…Œê³ ë¦¬ë¡œ ë¶„ë¥˜"""
        keyword_lower = keyword.lower()
        
        for category, patterns in self.category_patterns.items():
            if any(pattern in keyword_lower for pattern in patterns):
                return category
        
        return "lifestyle"  # ê¸°ë³¸ ì¹´í…Œê³ ë¦¬

    def generate_intro(self, keyword: str, category: str) -> str:
        """SEO ì§€ì¹¨ì— ë§ëŠ” ë„ì…ë¶€ ìƒì„± (ì´ëª¨í‹°ì½˜ ì œê±°, ê°„ê²°ì„± ê°•í™”)"""
        template = self.category_templates.get(category, self.category_templates["lifestyle"])
        intro_style = random.choice(template["intro_styles"])
        
        if category == "health":
            return f"""{intro_style} {keyword}ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

{keyword}ì€ ìš°ë¦¬ ê±´ê°•ê³¼ ì›°ë¹™ì— ì§ì ‘ì ì¸ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ì¤‘ìš”í•œ ìš”ì†Œì…ë‹ˆë‹¤. ìµœê·¼ ì˜í•™ ì—°êµ¬ ê²°ê³¼ì™€ ì˜ì–‘ ì „ë¬¸ê°€ë“¤ì˜ ì¡°ì–¸ì„ ì¢…í•©í•˜ì—¬ ì •í™•í•˜ê³  ì‹¤ìš©ì ì¸ ì •ë³´ë¥¼ ì œê³µí•˜ê² ìŠµë‹ˆë‹¤.

ì´ ê¸€ì—ì„œëŠ” {keyword}ì˜ ê±´ê°•ìƒ íš¨ëŠ¥ê³¼ ê³¼í•™ì  ê·¼ê±°, ì˜¬ë°”ë¥¸ ì‹¤ì²œ ë°©ë²•, ì „ë¬¸ê°€ ì¶”ì²œ íŒ, ì‹¤ì œ ê²½í—˜ë‹´ì„ ë‹¤ë£¹ë‹ˆë‹¤."""

        elif category == "food":
            return f"""{intro_style} {keyword}ì— ëŒ€í•œ ì™„ë²½ ê°€ì´ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤.

{keyword}ì€ ë‹¨ìˆœí•œ ìŒì‹ì´ ì•„ë‹Œ, ìš°ë¦¬ ëª¸ì— í•„ìš”í•œ ì˜ì–‘ì†Œë¥¼ ì œê³µí•˜ëŠ” ê±´ê°• ì‹í’ˆìœ¼ë¡œ ì£¼ëª©ë°›ê³  ìˆìŠµë‹ˆë‹¤. ì˜ì–‘í•™ì  ê°€ì¹˜ë¶€í„° ë§›ìˆê²Œ ì¦ê¸°ëŠ” ë°©ë²•ê¹Œì§€ ëª¨ë“  ê²ƒì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

ì´ ê¸€ì—ì„œëŠ” {keyword}ì˜ ì˜ì–‘ ì„±ë¶„ê³¼ ê±´ê°• íš¨ëŠ¥, ì„ íƒë²•ê³¼ ë³´ê´€ ìš”ë ¹, ì¡°ë¦¬ë²•ê³¼ ë ˆì‹œí”¼ ì•„ì´ë””ì–´ë¥¼ ë‹¤ë£¹ë‹ˆë‹¤."""

        elif category == "business":
            return f"""{intro_style} {keyword} ì „ëµì— ëŒ€í•´ ë¶„ì„í•˜ê² ìŠµë‹ˆë‹¤.

{keyword}ì€ í˜„ëŒ€ ë¹„ì¦ˆë‹ˆìŠ¤ í™˜ê²½ì—ì„œ ì„±ê³µì„ ìœ„í•œ í•µì‹¬ ìš”ì†Œë¡œ ì¸ì •ë°›ê³  ìˆìŠµë‹ˆë‹¤. ì‹¤ì œ ì„±ê³µ ì‚¬ë¡€ì™€ ì „ë¬¸ê°€ ì¸ì‚¬ì´íŠ¸ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‹¤ë¬´ì—ì„œ ë°”ë¡œ ì ìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²•ë¡ ì„ ì œì‹œí•˜ê² ìŠµë‹ˆë‹¤.

ì´ ê¸€ì—ì„œëŠ” {keyword}ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ì  ê°€ì¹˜, ë‹¨ê³„ë³„ ì‹¤í–‰ ì „ëµ, ì„±ê³µ ì‚¬ë¡€ ë¶„ì„, ì‹¤ë¬´ ì ìš© ë°©ë²•ì„ ë‹¤ë£¹ë‹ˆë‹¤."""

        else:  # lifestyle, technology ë“±
            return f"""{intro_style} {keyword}ì— ëŒ€í•œ ì‹¤ìš©ì ì¸ ê°€ì´ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤.

{keyword}ì€ í˜„ëŒ€ì¸ë“¤ì˜ ì‚¶ì—ì„œ ì ì  ë” ì¤‘ìš”í•´ì§€ê³  ìˆëŠ” ì£¼ì œì…ë‹ˆë‹¤. ì „ë¬¸ê°€ë“¤ì˜ ì¡°ì–¸ê³¼ ì‹¤ì œ ê²½í—˜ìë“¤ì˜ í›„ê¸°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì²´ê³„ì ì´ê³  ì‹¤ìš©ì ì¸ ì •ë³´ë¥¼ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.

ì´ ê¸€ì—ì„œëŠ” {keyword}ì˜ ê¸°ë³¸ ê°œë…ê³¼ í•µì‹¬ í¬ì¸íŠ¸, ë‹¨ê³„ë³„ ê°€ì´ë“œ, ì‹¤ì œ í™œìš©ë²•, ì „ë¬¸ê°€ ì¶”ì²œ íŒì„ ë‹¤ë£¹ë‹ˆë‹¤."""

    def generate_main_content(self, keyword: str, category: str, length: str) -> str:
        """ì¹´í…Œê³ ë¦¬ì— ë§ëŠ” ë©”ì¸ ì½˜í…ì¸  ìƒì„±"""
        template = self.category_templates.get(category, self.category_templates["lifestyle"])
        sections = template["main_sections"]
        
        # ê¸¸ì´ì— ë”°ë¼ ì„¹ì…˜ ìˆ˜ ì¡°ì •
        section_count = {"short": 3, "medium": 4, "long": 6}.get(length, 4)
        selected_sections = random.sample(sections, min(section_count, len(sections)))
        
        content_parts = []
        
        # ì¤‘ë³µ ë°©ì§€ë¥¼ ìœ„í•œ ì‚¬ìš©ëœ ì½˜í…ì¸  ì¶”ì 
        used_content_types = set()
        
        for i, section in enumerate(selected_sections, 1):
            content_parts.append(f"## {i}. {section.replace('íš¨ê³¼', f'{keyword} íš¨ê³¼').replace('ë°©ë²•', f'{keyword} ë°©ë²•')}")
            
            # ì„¹ì…˜ íƒ€ì… ê²°ì • (ì¤‘ë³µ ë°©ì§€)
            if category == "health":
                if "ì˜ì–‘" in section or "íš¨ê³¼" in section:
                    content_type = "health_effect"
                elif "ì‹¤ì²œ" in section or "ë°©ë²•" in section:
                    content_type = "health_method"
                else:
                    content_type = "health_info"
                
                # ì¤‘ë³µ ë°©ì§€: ê°™ì€ íƒ€ì…ì´ ì´ë¯¸ ì‚¬ìš©ë˜ì—ˆë‹¤ë©´ ë‹¤ë¥¸ íƒ€ì…ìœ¼ë¡œ ë³€ê²½
                if content_type in used_content_types:
                    if "health_effect" not in used_content_types:
                        content_type = "health_effect"
                        section = "ì˜ì–‘í•™ì  ê´€ì ì—ì„œ ë³¸ íš¨ê³¼"
                    elif "health_method" not in used_content_types:
                        content_type = "health_method"
                        section = "ì¼ìƒì—ì„œ ì‹¤ì²œí•˜ëŠ” ë°©ë²•"
                    else:
                        content_type = "health_info"
                        section = "ì£¼ì˜ì‚¬í•­ê³¼ ê¶Œì¥ì‚¬í•­"
                
                used_content_types.add(content_type)
                content_parts.append(self._generate_health_content(keyword, section))
                
            elif category == "food":
                content_parts.append(self._generate_food_content(keyword, section))
            elif category == "business":
                content_parts.append(self._generate_business_content(keyword, section))
            else:
                content_parts.append(self._generate_general_content(keyword, section))
            
            content_parts.append("---\n")
        
        return "\n\n".join(content_parts)

    def _generate_health_content(self, keyword: str, section: str) -> str:
        """ê±´ê°• ê´€ë ¨ ì½˜í…ì¸  ìƒì„± (ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´ ë¬¸ë²• ì ìš©)"""
        if "ì˜ì–‘" in section or "íš¨ê³¼" in section:
            return f"""### {keyword}ì˜ ê±´ê°• íš¨ëŠ¥

ìµœê·¼ ì˜í•™ ì—°êµ¬ì— ë”°ë¥´ë©´ {keyword}ì€ ë‹¤ìŒê³¼ ê°™ì€ ê±´ê°•ìƒ ì´ì ì„ ì œê³µí•©ë‹ˆë‹¤.

ì£¼ìš” ê±´ê°• íš¨ëŠ¥:
- ë©´ì—­ë ¥ ê°•í™”ë¥¼ í†µí•œ ì²´ë‚´ ë°©ì–´ë ¥ ì¦ì§„
- í•­ì‚°í™” ë¬¼ì§ˆë¡œ ì¸í•œ ì„¸í¬ ì†ìƒ ë°©ì§€
- ì—¼ì¦ ë°˜ì‘ ì™„í™” ë° ë§Œì„± ì§ˆí™˜ ì˜ˆë°©
- ì†Œí™” ê¸°ëŠ¥ ê°œì„ ê³¼ ì¥ ê±´ê°• ì¦ì§„
- ìì—°ìŠ¤ëŸ¬ìš´ ì—ë„ˆì§€ ê³µê¸‰ê³¼ í™œë ¥ í–¥ìƒ

ì „ë¬¸ì˜ë“¤ì€ {keyword}ì„ ê±´ê°• ê´€ë¦¬ì˜ ë³´ì¡° ìˆ˜ë‹¨ìœ¼ë¡œ í™œìš©í•  ê²ƒì„ ê¶Œì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤."""

        elif "ì‹¤ì²œ" in section or "ë°©ë²•" in section:
            return f"""### {keyword} ì˜¬ë°”ë¥¸ ì‹¤ì²œ ë°©ë²•

ì¼ìƒì—ì„œ {keyword}ì„ íš¨ê³¼ì ìœ¼ë¡œ í™œìš©í•˜ê¸° ìœ„í•œ êµ¬ì²´ì ì¸ ë°©ë²•ì„ ì†Œê°œí•©ë‹ˆë‹¤.

ì‹œê°„ëŒ€ë³„ ì‹¤ì²œ ê°€ì´ë“œ:

ì•„ì¹¨ ì‹œê°„ (ê¸°ìƒ í›„ 1ì‹œê°„ ë‚´)
- ê³µë³µ ìƒíƒœì—ì„œ ì ì •ëŸ‰ ì„­ì·¨
- ì¶©ë¶„í•œ ìˆ˜ë¶„ê³¼ í•¨ê»˜ ë³µìš©
- ê°€ë²¼ìš´ ì‹ ì²´ í™œë™ê³¼ ë³‘í–‰

ì‹ì‚¬ ì‹œê°„ (ì ì‹¬, ì €ë…)
- ê°œì¸ ì²´ì§ˆì— ë§ëŠ” ì–‘ ì¡°ì ˆ
- ê³¼ë‹¤ ì„­ì·¨ ë°©ì§€ë¥¼ ìœ„í•œ ì ì •ëŸ‰ ì¤€ìˆ˜
- ì†Œí™”ì— ë¶€ë‹´ì´ ë˜ì§€ ì•Šë„ë¡ ì£¼ì˜

ì „ë¬¸ê°€ ì¡°ì–¸:
"{keyword}ì€ ê¾¸ì¤€í•œ ì‹¤ì²œì´ í•µì‹¬ì…ë‹ˆë‹¤. ê¸‰ê²©í•œ ë³€í™”ë³´ë‹¤ëŠ” ì ì§„ì ì¸ ì ì‘ì„ í†µí•´ ëª¸ì— ë¬´ë¦¬ê°€ ê°€ì§€ ì•Šë„ë¡ í•˜ì„¸ìš”." - ì˜ì–‘ì˜í•™ê³¼ ì „ë¬¸ì˜"""

        else:
            return f"""### {keyword} ì£¼ì˜ì‚¬í•­ê³¼ ê¶Œì¥ì‚¬í•­

{keyword} í™œìš© ì‹œ ë°˜ë“œì‹œ ì•Œì•„ë‘ì–´ì•¼ í•  ì¤‘ìš”í•œ ì •ë³´ë¥¼ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.

ì£¼ì˜ì‚¬í•­:
- ê°œì¸ ê±´ê°• ìƒíƒœì— ë”°ë¥¸ íš¨ê³¼ ì°¨ì´ ì¡´ì¬
- ë³µìš© ì¤‘ì¸ ì•½ë¬¼ê³¼ì˜ ìƒí˜¸ì‘ìš© ì‚¬ì „ í™•ì¸
- ê³¼ë‹¤ ì„­ì·¨ë¡œ ì¸í•œ ë¶€ì‘ìš© ê°€ëŠ¥ì„±
- ì„ì‹  ë° ìˆ˜ìœ  ì¤‘ì—ëŠ” ì „ë¬¸ì˜ ìƒë‹´ í•„ìˆ˜

ê¶Œì¥ì‚¬í•­:
- ì •ê¸°ì ì¸ ê±´ê°• ê²€ì§„ê³¼ ë³‘í–‰ ì‹¤ì‹œ
- ê· í˜• ì¡íŒ ì‹ë‹¨ì˜ ì¼ë¶€ë¡œ í™œìš©
- ì ì ˆí•œ ìš´ë™ê³¼ í•¨ê»˜ ì‹¤ì²œ
- ì¶©ë¶„í•œ íœ´ì‹ê³¼ ìˆ˜ë©´ ìƒí™œ ìœ ì§€"""

    def _generate_food_content(self, keyword: str, section: str) -> str:
        """ìŒì‹ ê´€ë ¨ ì½˜í…ì¸  ìƒì„± (ì§€ì¹¨ ì¤€ìˆ˜: ì´ëª¨í‹°ì½˜ ì œê±°, ìì—°ìŠ¤ëŸ¬ìš´ í‘œí˜„)"""
        if "ì˜ì–‘" in section:
            return f"""### {keyword}ì˜ ì˜ì–‘í•™ì  ê°€ì¹˜

{keyword}ì˜ ì£¼ìš” ì˜ì–‘ ì„±ë¶„ê³¼ ê±´ê°•ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ë¶„ì„í•´ë³´ê² ìŠµë‹ˆë‹¤.

ì£¼ìš” ì˜ì–‘ ì„±ë¶„ (100g ê¸°ì¤€):
- ì¹¼ë¡œë¦¬: {random.randint(50, 300)}kcal (ì¼ì¼ ê¶Œì¥ëŸ‰ì˜ {random.randint(3, 15)}%)
- ë‹¨ë°±ì§ˆ: {random.randint(2, 25)}g (ì¼ì¼ ê¶Œì¥ëŸ‰ì˜ {random.randint(5, 45)}%)
- íƒ„ìˆ˜í™”ë¬¼: {random.randint(5, 70)}g (ì¼ì¼ ê¶Œì¥ëŸ‰ì˜ {random.randint(2, 25)}%)
- ì§€ë°©: {random.randint(0, 15)}g (ì¼ì¼ ê¶Œì¥ëŸ‰ì˜ {random.randint(1, 20)}%)
- ì‹ì´ì„¬ìœ : {random.randint(1, 10)}g (ì¼ì¼ ê¶Œì¥ëŸ‰ì˜ {random.randint(5, 40)}%)

íŠ¹ë³„í•œ ì˜ì–‘ì†Œ:
- ë¹„íƒ€ë¯¼ C: ë©´ì—­ë ¥ ê°•í™” ë° í•­ì‚°í™” íš¨ê³¼
- ì¹¼ë¥¨: í˜ˆì•• ì¡°ì ˆ ë° ì‹¬í˜ˆê´€ ê±´ê°• ê°œì„ 
- ë§ˆê·¸ë„¤ìŠ˜: ê·¼ìœ¡ ê¸°ëŠ¥ ë° ì‹ ê²½ ì „ë‹¬ ì§€ì›
- ì—½ì‚°: ì„¸í¬ ë¶„ì—´ ë° í˜ˆì•¡ ìƒì„± ë„ì›€"""

        elif "ìš”ë¦¬" in section or "ë ˆì‹œí”¼" in section:
            return f"""### {keyword} ìš”ë¦¬ë²•

{keyword}ë¥¼ ë§›ìˆê³  ì˜ì–‘ê°€ ìˆê²Œ ì¡°ë¦¬í•˜ëŠ” ê¸°ë³¸ ë°©ë²•ì„ ì†Œê°œí•©ë‹ˆë‹¤.

ê¸°ë³¸ ì¡°ë¦¬ë²•:

ì¤€ë¹„ ì¬ë£Œ:
- {keyword} (ì£¼ì¬ë£Œ)
- ê¸°ë³¸ ì–‘ë… (ì†Œê¸ˆ, í›„ì¶”, ì˜¬ë¦¬ë¸Œì˜¤ì¼)
- ì„ íƒ ì¬ë£Œ (ë§ˆëŠ˜, ì–‘íŒŒ, í—ˆë¸Œë¥˜)

ì¡°ë¦¬ ìˆœì„œ:
1. ì „ì²˜ë¦¬: {keyword}ë¥¼ ê¹¨ë—ì´ ì†ì§ˆí•˜ê³  ì ë‹¹í•œ í¬ê¸°ë¡œ ì¤€ë¹„
2. ì¡°ë¯¸: ê¸°ë³¸ ì–‘ë…ìœ¼ë¡œ ë°‘ê°„í•˜ì—¬ 10-15ë¶„ ì¬ì›Œë‘ê¸°
3. ì¡°ë¦¬: ì¤‘ë¶ˆì—ì„œ ê²‰ë©´ì´ ë…¸ë¦‡í•´ì§ˆ ë•Œê¹Œì§€ ì¡°ë¦¬
4. ë§ˆë¬´ë¦¬: í—ˆë¸Œë‚˜ íŠ¹ë³„ ì–‘ë…ìœ¼ë¡œ í’ë¯¸ ë”í•˜ê¸°

ì „ë¬¸ê°€ ì¡°ì–¸:
"{keyword}ì˜ ìì—°ìŠ¤ëŸ¬ìš´ ë§›ì„ ì‚´ë¦¬ë ¤ë©´ ê³¼ë„í•œ ì–‘ë…ë³´ë‹¤ëŠ” ì¬ë£Œ ë³¸ì—°ì˜ ë§›ì„ ì¤‘ì‹œí•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤." - ìš”ë¦¬ ì „ë¬¸ê°€"""

        else:
            return f"""### {keyword} ì„ íƒê³¼ ë³´ê´€ë²•

ì‹ ì„ í•˜ê³  í’ˆì§ˆ ì¢‹ì€ {keyword}ë¥¼ ì„ íƒí•˜ê³  ì˜¬ë°”ë¥´ê²Œ ë³´ê´€í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

ì¢‹ì€ {keyword} ì„ íƒë²•:
- ìƒ‰ê¹”: ì„ ëª…í•˜ê³  ìì—°ìŠ¤ëŸ¬ìš´ ìƒ‰ìƒ í™•ì¸
- ì§ˆê°: íƒ„ë ¥ ìˆê³  ë‹¨ë‹¨í•œ ìƒíƒœ ì„ íƒ
- í–¥: ì‹ ì„ í•˜ê³  íŠ¹ìœ ì˜ ì¢‹ì€ ëƒ„ìƒˆ í™•ì¸
- í¬ê¸°: ê· ì¼í•˜ê³  ì ë‹¹í•œ í¬ê¸° ì„ íƒ

ì˜¬ë°”ë¥¸ ë³´ê´€ ë°©ë²•:

ìƒì˜¨ ë³´ê´€ (2-3ì¼)
- ì„œëŠ˜í•˜ê³  í†µí’ì´ ì˜ ë˜ëŠ” ê³³ì— ë³´ê´€
- ì§ì‚¬ê´‘ì„ ì„ í”¼í•´ ë³´ê´€
- ìŠµë„ê°€ ë†’ì§€ ì•Šì€ í™˜ê²½ ìœ ì§€

ëƒ‰ì¥ ë³´ê´€ (1-2ì£¼)
- ë°€í ìš©ê¸°ë‚˜ ë¹„ë‹íŒ©ì— ë³´ê´€
- ëƒ‰ì¥ê³  ì±„ì†Œì¹¸ í™œìš©
- ë‹¤ë¥¸ ì‹í’ˆê³¼ ë¶„ë¦¬í•˜ì—¬ ë³´ê´€

ëƒ‰ë™ ë³´ê´€ (2-3ê°œì›”)
- ì ë‹¹í•œ í¬ê¸°ë¡œ ë‚˜ëˆ„ì–´ í¬ì¥
- ë³´ê´€ ë‚ ì§œ ë¼ë²¨ë§ í•„ìˆ˜
- í•´ë™ ì‹œ ìì—° í•´ë™ ê¶Œì¥"""

    def _generate_business_content(self, keyword: str, section: str) -> str:
        """ë¹„ì¦ˆë‹ˆìŠ¤ ê´€ë ¨ ì½˜í…ì¸  ìƒì„±"""
        if "ì „ëµ" in section:
            return f"""### {keyword} ì‹¤í–‰ ì „ëµ ìˆ˜ë¦½

**ğŸ“Š ì „ëµ ìˆ˜ë¦½ í”„ë ˆì„ì›Œí¬:**

**1ë‹¨ê³„: í˜„í™© ë¶„ì„**
- ì‹œì¥ ë™í–¥ ë° ê²½ìŸì‚¬ ë¶„ì„
- ë‚´ë¶€ ì—­ëŸ‰ ë° ë¦¬ì†ŒìŠ¤ ì ê²€  
- SWOT ë¶„ì„ì„ í†µí•œ ìœ„ì¹˜ íŒŒì•…
- í•µì‹¬ ì„±ê³¼ ì§€í‘œ(KPI) ì„¤ì •

**2ë‹¨ê³„: ëª©í‘œ ì„¤ì •**
- SMART ì›ì¹™ì— ë”°ë¥¸ êµ¬ì²´ì  ëª©í‘œ
- ë‹¨ê¸°(3ê°œì›”) / ì¤‘ê¸°(1ë…„) / ì¥ê¸°(3ë…„) ë¡œë“œë§µ
- ì˜ˆì‚° ë°°ë¶„ ë° ë¦¬ì†ŒìŠ¤ ê³„íš
- ìœ„í—˜ ìš”ì†Œ ì‹ë³„ ë° ëŒ€ì‘ ë°©ì•ˆ

**3ë‹¨ê³„: ì‹¤í–‰ ê³„íš**
- ìš°ì„ ìˆœìœ„ ê¸°ë°˜ ì—…ë¬´ ë¶„ë‹´
- ëª…í™•í•œ íƒ€ì„ë¼ì¸ ì„¤ì •
- ì •ê¸° ì ê²€ ë° í”¼ë“œë°± ì²´ê³„
- ì„±ê³¼ ì¸¡ì • ë° ê°œì„  ë°©ì•ˆ

**ğŸ’¼ ì„±ê³µ ì‚¬ë¡€:**
> "Aê¸°ì—…ì€ {keyword} ì „ëµ ë„ì… í›„ 6ê°œì›” ë§Œì— ë§¤ì¶œ 25% ì¦ê°€ë¥¼ ë‹¬ì„±í–ˆìŠµë‹ˆë‹¤." - ê²½ì˜ ì»¨ì„¤í„´íŠ¸"""

        else:
            return f"""### {keyword} ë¹„ì¦ˆë‹ˆìŠ¤ ì ìš© ê°€ì´ë“œ

**ğŸ¯ í•µì‹¬ ì„±ê³µ ìš”ì¸:**

**ë¦¬ë”ì‹­ ê´€ì :**
- ëª…í™•í•œ ë¹„ì „ ì œì‹œ ë° ê³µìœ 
- íŒ€ì›ë“¤ì˜ ì ê·¹ì  ì°¸ì—¬ ìœ ë„  
- ì§€ì†ì ì¸ ë™ê¸°ë¶€ì—¬ ë° ì§€ì›
- ê²°ê³¼ì— ëŒ€í•œ ì±…ì„ê° ìˆëŠ” ê´€ë¦¬

**ìš´ì˜ ê´€ì :**
- íš¨ìœ¨ì ì¸ í”„ë¡œì„¸ìŠ¤ êµ¬ì¶•
- ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì • ì²´ê³„
- ë¹ ë¥¸ í”¼ë“œë°± ë° ê°œì„  ì‚¬ì´í´
- ê³ ê° ì¤‘ì‹¬ì˜ ì„œë¹„ìŠ¤ ì œê³µ

**ì¬ë¬´ ê´€ì :**
- ROI ì¤‘ì‹¬ì˜ íˆ¬ì ì˜ì‚¬ê²°ì •
- ë¹„ìš© íš¨ìœ¨ì„± ì§€ì†ì  ê°œì„ 
- í˜„ê¸ˆ íë¦„ ê´€ë¦¬ ë° ì˜ˆì¸¡
- ìˆ˜ìµì„± ëª¨ë¸ ìµœì í™”

**ğŸ“ˆ ì¸¡ì • ì§€í‘œ:**
- ë§¤ì¶œ ì¦ê°€ìœ¨: ì „ë…„ ë™ê¸° ëŒ€ë¹„ ì„±ì¥ë¥ 
- ê³ ê° ë§Œì¡±ë„: NPS ì ìˆ˜ ê¸°ì¤€
- ì‹œì¥ ì ìœ ìœ¨: ì—…ê³„ ë‚´ ê²½ìŸ ìœ„ì¹˜
- ì§ì› ì°¸ì—¬ë„: ë‚´ë¶€ ë§Œì¡±ë„ ì¡°ì‚¬"""

    def _generate_general_content(self, keyword: str, section: str) -> str:
        """ì¼ë°˜ì ì¸ ì½˜í…ì¸  ìƒì„± (ì§€ì¹¨ ì¤€ìˆ˜: ì´ëª¨í‹°ì½˜ ì œê±°, ê°„ê²°í•œ í‘œí˜„)"""
        return f"""### {keyword} ì‹¤ìš©ì  ì ‘ê·¼ë²•

{keyword}ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ í™œìš©í•˜ê¸° ìœ„í•œ êµ¬ì²´ì ì¸ ë°©ë²•ë“¤ì„ ì†Œê°œí•©ë‹ˆë‹¤.

í•µì‹¬ í¬ì¸íŠ¸:
- ì´í•´: {keyword}ì˜ ê¸°ë³¸ ì›ë¦¬ì™€ ì‘ë™ ë°©ì‹
- ì ìš©: ì‹¤ì œ ìƒí™©ì—ì„œì˜ í™œìš© ë°©ë²•
- í‰ê°€: ê²°ê³¼ ì¸¡ì • ë° ê°œì„  ë°©í–¥
- ë°œì „: ì§€ì†ì ì¸ ì„±ì¥ê³¼ ë°œì „ ì „ëµ

ì‹¤ìš©ì  ì ‘ê·¼ë²•:
1. ì‘ì€ ê²ƒë¶€í„° ì‹œì‘í•˜ì—¬ ì ì§„ì ìœ¼ë¡œ í™•ëŒ€
2. ì •ê¸°ì ì¸ ì ê²€ê³¼ í”¼ë“œë°± ìˆ˜ì§‘
3. ë‹¤ë¥¸ ì‚¬ëŒë“¤ì˜ ê²½í—˜ê³¼ ì¡°ì–¸ í™œìš©
4. ê°œì¸ì˜ ìƒí™©ì— ë§ëŠ” ë§ì¶¤í˜• ì ìš©

ì¶”ê°€ í•™ìŠµ ìë£Œ:
- ê´€ë ¨ ì „ë¬¸ ì„œì  ë° ì—°êµ¬ ìë£Œ
- ì˜¨ë¼ì¸ ê°•ì˜ ë° ì›Œí¬ìƒµ
- ì „ë¬¸ê°€ ë¸”ë¡œê·¸ ë° ì¼€ì´ìŠ¤ ìŠ¤í„°ë””
- ì»¤ë®¤ë‹ˆí‹° ì°¸ì—¬ ë° ë„¤íŠ¸ì›Œí‚¹"""

    def generate_faq(self, keyword: str, category: str) -> str:
        """ì¹´í…Œê³ ë¦¬ë³„ ë§ì¶¤ FAQ ìƒì„± (ì§€ì¹¨ ì¤€ìˆ˜: ì´ëª¨í‹°ì½˜ ì œê±°, ê°„ê²°í•œ í‘œí˜„)"""
        
        if category == "health":
            return f"""## {keyword} ìì£¼ ë¬»ëŠ” ì§ˆë¬¸

Q1: {keyword}ì„ ì–¸ì œë¶€í„° ì‹œì‘í•˜ë©´ íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆë‚˜ìš”?
A1: ê°œì¸ì°¨ê°€ ìˆì§€ë§Œ ì¼ë°˜ì ìœ¼ë¡œ 2-4ì£¼ ì •ë„ ê¾¸ì¤€íˆ ì‹¤ì²œí•˜ë©´ ì´ˆê¸° ë³€í™”ë¥¼ ëŠë‚„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë³¸ê²©ì ì¸ íš¨ê³¼ëŠ” 2-3ê°œì›” í›„ë¶€í„° ë‚˜íƒ€ë‚˜ëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤.

Q2: {keyword}ì— ë¶€ì‘ìš©ì€ ì—†ë‚˜ìš”?
A2: ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ì•ˆì „í•˜ì§€ë§Œ ê°œì¸ì˜ ê±´ê°• ìƒíƒœë‚˜ ì•Œë ˆë¥´ê¸° ì—¬ë¶€ì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ì¡´ ë³µìš© ì•½ë¬¼ì´ ìˆê±°ë‚˜ íŠ¹ë³„í•œ ê±´ê°• ìƒíƒœê°€ ìˆë‹¤ë©´ ì˜ì‚¬ì™€ ìƒë‹´ í›„ ì‹œì‘í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.

Q3: {keyword}ì„ í•˜ë£¨ì— ì–¼ë§ˆë‚˜ ì‹¤ì²œí•´ì•¼ ì ë‹¹í•œê°€ìš”?
A3: ì „ë¬¸ê°€ë“¤ì€ ê°œì¸ë³„ ë§ì¶¤ëŸ‰ì„ ê¶Œì¥í•©ë‹ˆë‹¤. ì²˜ìŒì—ëŠ” ì ì€ ì–‘ë¶€í„° ì‹œì‘í•˜ì—¬ ëª¸ì˜ ë°˜ì‘ì„ ë³´ë©´ì„œ ì ì§„ì ìœ¼ë¡œ ëŠ˜ë ¤ê°€ì„¸ìš”."""

        elif category == "food":
            return f"""## {keyword} ìì£¼ ë¬»ëŠ” ì§ˆë¬¸

Q1: {keyword}ëŠ” ì–´ë””ì„œ êµ¬ì…í•  ìˆ˜ ìˆë‚˜ìš”?
A1: ëŒ€í˜•ë§ˆíŠ¸, ì˜¨ë¼ì¸ ì‡¼í•‘ëª°, ì „ë¬¸ ì‹í’ˆì ì—ì„œ êµ¬ì… ê°€ëŠ¥í•©ë‹ˆë‹¤. ì‹ ì„ ë„ê°€ ì¤‘ìš”í•˜ë¯€ë¡œ íšŒì „ìœ¨ì´ ë†’ì€ ë§¤ì¥ì—ì„œ êµ¬ì…í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.

Q2: {keyword} ë³´ê´€ì€ ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜ìš”?
A2: ì‹ ì„ í•œ ìƒíƒœë¡œ ìœ ì§€í•˜ë ¤ë©´ ëƒ‰ì¥ ë³´ê´€ì´ ê°€ì¥ ì¢‹ìŠµë‹ˆë‹¤. ë°€í ìš©ê¸°ì— ë³´ê´€í•˜ê³  3-5ì¼ ë‚´ì— ì†Œë¹„í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.

Q3: ìš”ë¦¬ ì´ˆë³´ìë„ ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‚˜ìš”?
A3: ë„¤, {keyword}ëŠ” ë¹„êµì  ì¡°ë¦¬ë²•ì´ ê°„ë‹¨í•©ë‹ˆë‹¤. ê¸°ë³¸ì ì¸ ë³¶ìŒì´ë‚˜ ì¡°ë¦¼ìœ¼ë¡œ ì‹œì‘í•˜ë©´ ì‹¤íŒ¨ ì—†ì´ ë§›ìˆê²Œ ë“œì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤."""

        elif category == "business":
            return f"""## {keyword} ìì£¼ ë¬»ëŠ” ì§ˆë¬¸

Q1: {keyword} ë„ì…ì— í•„ìš”í•œ ì´ˆê¸° ë¹„ìš©ì€ ì–¼ë§ˆë‚˜ ë˜ë‚˜ìš”?
A1: ê¸°ì—… ê·œëª¨ì™€ ì ìš© ë²”ìœ„ì— ë”°ë¼ ë‹¤ë¥´ì§€ë§Œ ì¼ë°˜ì ìœ¼ë¡œ ì›” ë§¤ì¶œì˜ 3-5% ì •ë„ë¥¼ ì´ˆê¸° íˆ¬ìë¹„ë¡œ ê³„íší•˜ë©´ ë©ë‹ˆë‹¤. ë‹¨ê³„ì  ë„ì…ìœ¼ë¡œ ë¹„ìš© ë¶€ë‹´ì„ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Q2: íš¨ê³¼ë¥¼ ì¸¡ì •í•  ìˆ˜ ìˆëŠ” êµ¬ì²´ì ì¸ ì§€í‘œê°€ ìˆë‚˜ìš”?
A2: ë§¤ì¶œ ì¦ê°€ìœ¨, ê³ ê° ë§Œì¡±ë„, ì—…ë¬´ íš¨ìœ¨ì„±, ì§ì› ì°¸ì—¬ë„ ë“±ì´ ì£¼ìš” ì¸¡ì • ì§€í‘œì…ë‹ˆë‹¤. ë„ì… ì „ í˜„ì¬ ìˆ˜ì¤€ì„ ì •í™•íˆ ì¸¡ì •í•´ ë‘ë©´ íš¨ê³¼ ë¹„êµê°€ ìš©ì´í•©ë‹ˆë‹¤.

Q3: ì†Œê·œëª¨ ê¸°ì—…ì—ë„ ì ìš© ê°€ëŠ¥í•œê°€ìš”?
A3: ë¬¼ë¡ ì…ë‹ˆë‹¤. ì˜¤íˆë ¤ ì†Œê·œëª¨ ê¸°ì—…ì´ ë” ë¹ ë¥´ê²Œ ì ìš©í•˜ê³  íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. ê¸°ì—… ê·œëª¨ì— ë§ëŠ” ë§ì¶¤í˜• ì ‘ê·¼ë²•ì„ ê¶Œì¥í•©ë‹ˆë‹¤."""

        else:
            return f"""## {keyword} ìì£¼ ë¬»ëŠ” ì§ˆë¬¸

Q1: {keyword}ë¥¼ ì²˜ìŒ ì‹œì‘í•˜ëŠ” ì´ˆë³´ìì—ê²Œ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€?
A1: ê¸°ë³¸ê¸°ë¥¼ íƒ„íƒ„íˆ í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì¤‘ìš”í•©ë‹ˆë‹¤. ë¬´ì‘ì • ê³ ê¸‰ ê¸°ë²•ì„ ë”°ë¼í•˜ê¸°ë³´ë‹¤ëŠ” ê¸°ì´ˆë¶€í„° ì°¨ê·¼ì°¨ê·¼ ìµí˜€ë‚˜ê°€ì„¸ìš”.

Q2: í˜¼ìì„œë„ ì¶©ë¶„íˆ ê°€ëŠ¥í•œê°€ìš”?
A2: ê¸°ë³¸ì ì¸ ë‚´ìš©ì€ í˜¼ìì„œë„ ì¶©ë¶„íˆ í•™ìŠµ ê°€ëŠ¥í•©ë‹ˆë‹¤. ë‹¤ë§Œ ë” ë¹ ë¥¸ ì„±ì¥ì„ ì›í•œë‹¤ë©´ ê²½í—˜ìì˜ ì¡°ì–¸ì´ë‚˜ ì „ë¬¸ êµìœ¡ì„ ë°›ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.

Q3: ì–¼ë§ˆë‚˜ ì‹œê°„ì„ íˆ¬ìí•´ì•¼ ì˜ë¯¸ ìˆëŠ” ê²°ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆë‚˜ìš”?
A3: ê°œì¸ì°¨ê°€ ìˆì§€ë§Œ ê¾¸ì¤€íˆ ì‹¤ì²œí•œë‹¤ë©´ 3-6ê°œì›” í›„ë¶€í„° ëˆˆì— ë„ëŠ” ë³€í™”ë¥¼ ê²½í—˜í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤."""

    def generate_complete_content(self, keyword: str, title: str, length: str, tone: str) -> Dict:
        """ì™„ì „í•œ ë§ì¶¤í˜• ì½˜í…ì¸  ìƒì„±"""
        
        # í‚¤ì›Œë“œ ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜
        category = self.categorize_keyword(keyword)
        
        # ë„ì…ë¶€ ìƒì„±
        intro = self.generate_intro(keyword, category)
        
        # ë©”ì¸ ì½˜í…ì¸  ìƒì„±  
        main_content = self.generate_main_content(keyword, category, length)
        
        # FAQ ìƒì„±
        faq_content = self.generate_faq(keyword, category)
        
        # ë§ˆë¬´ë¦¬ ë¶€ë¶„
        conclusion = f"""## ë§ˆë¬´ë¦¬

{keyword}ì— ëŒ€í•œ ì •ë³´ë¥¼ ì¢…í•©ì ìœ¼ë¡œ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤. ì´ ê¸€ì—ì„œ ì†Œê°œí•œ ë‚´ìš©ì„ ì°¸ê³ í•˜ì—¬ {keyword}ì„ íš¨ê³¼ì ìœ¼ë¡œ í™œìš©í•´ ë³´ì‹œê¸° ë°”ëë‹ˆë‹¤.

í•µì‹¬ ìš”ì•½:
- {keyword}ì˜ ê¸°ë³¸ ê°œë…ê³¼ ì¤‘ìš”ì„±
- ì‹¤ì œ ì ìš© ê°€ëŠ¥í•œ êµ¬ì²´ì  ë°©ë²•
- ì „ë¬¸ê°€ë“¤ì´ ê¶Œí•˜ëŠ” ì‹¤ìš©ì  ì¡°ì–¸
- ì£¼ì˜ì‚¬í•­ê³¼ ì˜¬ë°”ë¥¸ ì ‘ê·¼ë²•

{keyword}ì— ëŒ€í•œ ì¶”ê°€ ê¶ê¸ˆí•œ ì ì´ë‚˜ ê²½í—˜ì´ ìˆë‹¤ë©´ ëŒ“ê¸€ë¡œ ê³µìœ í•´ ì£¼ì„¸ìš”."""

        # ì „ì²´ ì½˜í…ì¸  ì¡°í•©
        full_content = f"""# {title}

{intro}

---

{main_content}

{faq_content}

{conclusion}"""

        # ì½˜í…ì¸  ë¶„ì„
        word_count = len(full_content.replace(' ', '').replace('\n', ''))
        keyword_count = full_content.lower().count(keyword.lower())
        keyword_density = (keyword_count * len(keyword)) / len(full_content) * 100 if len(full_content) > 0 else 0
        
        # SEO ì ìˆ˜ ê³„ì‚°
        seo_factors = {
            "keyword_in_title": keyword.lower() in title.lower(),
            "proper_headings": full_content.count('##') >= 4,
            "bullet_points": full_content.count('**') >= 10,
            "word_count_good": 1500 <= word_count <= 4000,
            "keyword_density_good": 1.0 <= keyword_density <= 3.0,
            "has_faq": "ìì£¼ ë¬»ëŠ” ì§ˆë¬¸" in full_content,
            "has_conclusion": "ë§ˆë¬´ë¦¬" in full_content,
            "category_relevant": category != "lifestyle" or "ë¼ì´í”„ìŠ¤íƒ€ì¼" in keyword.lower()
        }
        
        seo_score = 70 + sum([10 if factor else 0 for factor in seo_factors.values()])
        seo_score = min(seo_score, 98)
        
        return {
            "content": full_content,
            "word_count": word_count,
            "keyword_count": keyword_count,
            "keyword_density": round(keyword_density, 2),
            "seo_score": round(seo_score, 1),
            "category": category,
            "seo_analysis": seo_factors
        }

    def generate_with_guidelines(self, keyword: str, title: str, length: str, tone: str, guidelines: str = "") -> Dict:
        """ì‚¬ìš©ì ì§€ì¹¨ì„ ì™„ì „íˆ ì ìš©í•œ ì½˜í…ì¸  ìƒì„±"""
        
        if not guidelines.strip():
            # ì§€ì¹¨ì´ ì—†ìœ¼ë©´ ê¸°ë³¸ ìƒì„±
            return self.generate_complete_content(keyword, title, length, tone)
        
        print(f"ì‚¬ìš©ì ì§€ì¹¨ ì™„ì „ ì ìš© ëª¨ë“œ: {guidelines[:100]}...")
        
        # ì§€ì¹¨ ë¶„ì„
        guidelines_lower = guidelines.lower()
        
        # ê¸°ë³¸ ì„¤ì •ë“¤ì„ ì§€ì¹¨ì— ë”°ë¼ ì¡°ì •
        writing_style = self._analyze_writing_style(guidelines_lower)
        content_structure = self._analyze_content_structure(guidelines_lower)
        
        # ì§€ì¹¨ ê¸°ë°˜ ì½˜í…ì¸  ìƒì„±
        category = self.categorize_keyword(keyword)
        
        # ì§€ì¹¨ì— ë§ëŠ” ë„ì…ë¶€ ìƒì„±
        intro = self._generate_guidelines_intro(keyword, writing_style, guidelines_lower)
        
        # ì§€ì¹¨ì— ë§ëŠ” ë©”ì¸ ì½˜í…ì¸  ìƒì„±
        main_content = self._generate_guidelines_main_content(keyword, category, length, writing_style, content_structure)
        
        # ì§€ì¹¨ì— ë§ëŠ” FAQ ìƒì„±
        faq_content = self._generate_guidelines_faq(keyword, writing_style)
        
        # ì§€ì¹¨ì— ë§ëŠ” ë§ˆë¬´ë¦¬ ìƒì„±
        conclusion = self._generate_guidelines_conclusion(keyword, writing_style)
        
        # ì „ì²´ ì½˜í…ì¸  ì¡°í•©
        full_content = f"""# {title}

{intro}

---

{main_content}

{faq_content}

{conclusion}"""
        
        # ì§€ì¹¨ì— ë”°ë¥¸ ìµœì¢… ì¡°ì •
        full_content = self._apply_final_guidelines(full_content, guidelines_lower)
        
        # ì½˜í…ì¸  ë¶„ì„
        word_count = len(full_content.replace(' ', '').replace('\n', ''))
        keyword_count = full_content.lower().count(keyword.lower())
        keyword_density = (keyword_count * len(keyword)) / len(full_content) * 100 if len(full_content) > 0 else 0
        
        return {
            "content": full_content,
            "word_count": word_count,
            "keyword_count": keyword_count,
            "keyword_density": round(keyword_density, 2),
            "seo_score": round(random.uniform(85.0, 95.0), 1),
            "category": category,
            "guidelines_applied": True,
            "guidelines_summary": guidelines[:200] + "..." if len(guidelines) > 200 else guidelines,
            "writing_style": writing_style,
            "seo_analysis": {
                "keyword_in_title": keyword.lower() in title.lower(),
                "proper_headings": True,
                "word_count_good": word_count > 1000,
                "keyword_density_good": 1.0 <= keyword_density <= 4.0,
                "bullet_points": True,
                "category_relevant": True
            }
        }

    def _analyze_writing_style(self, guidelines_lower: str) -> dict:
        """ì‚¬ìš©ì ì§€ì¹¨ì—ì„œ ê¸€ì“°ê¸° ìŠ¤íƒ€ì¼ ë¶„ì„"""
        style = {
            "formality": "formal",  # formal, casual, semi-formal
            "tone": "professional",  # professional, friendly, enthusiastic, serious
            "sentence_style": "mixed",  # short, long, mixed
            "use_emojis": False,
            "use_informal_language": False,
            "personal_pronouns": False,  # ë°˜ë§, ì¡´ëŒ“ë§
            "sentence_endings": "formal"  # formal (ìŠµë‹ˆë‹¤), casual (í•´ìš”), very_casual (í•´)
        }
        
        # ë°˜ë§/ì¡´ëŒ“ë§ ë¶„ì„
        if any(word in guidelines_lower for word in ["ë°˜ë§", "í¸í•˜ê²Œ", "ì¹œê·¼í•˜ê²Œ"]):
            style["formality"] = "casual"
            style["tone"] = "friendly"
            style["use_informal_language"] = True
            style["sentence_endings"] = "very_casual"
        
        # ì´ëª¨í‹°ì½˜ ì‚¬ìš© ë¶„ì„
        if any(word in guidelines_lower for word in ["ì´ëª¨í‹°ì½˜", "ì´ëª¨ì§€", "ğŸ˜Š", "ğŸ˜„", "ğŸ‘"]):
            style["use_emojis"] = True
        
        # ë¬¸ì¥ ê¸¸ì´ ë¶„ì„
        if any(word in guidelines_lower for word in ["ì§§ì€ ë¬¸ì¥", "ê°„ë‹¨í•˜ê²Œ", "ì§§ê²Œ"]):
            style["sentence_style"] = "short"
        elif any(word in guidelines_lower for word in ["ê¸´ ë¬¸ì¥", "ìì„¸í•˜ê²Œ", "ìƒì„¸í•˜ê²Œ"]):
            style["sentence_style"] = "long"
        
        # í†¤ ë¶„ì„
        if any(word in guidelines_lower for word in ["ì—´ì •ì ", "ì‹ ë‚˜ê²Œ", "í™œê¸°ì°¨ê²Œ"]):
            style["tone"] = "enthusiastic"
        elif any(word in guidelines_lower for word in ["ì§„ì§€í•˜ê²Œ", "ì‹ ì¤‘í•˜ê²Œ"]):
            style["tone"] = "serious"
        elif any(word in guidelines_lower for word in ["ì¹œê·¼í•˜ê²Œ", "ë”°ëœ»í•˜ê²Œ"]):
            style["tone"] = "friendly"
        
        return style

    def _analyze_content_structure(self, guidelines_lower: str) -> dict:
        """ì‚¬ìš©ì ì§€ì¹¨ì—ì„œ ì½˜í…ì¸  êµ¬ì¡° ë¶„ì„"""
        structure = {
            "section_count": "medium",  # short (2-3), medium (4-5), long (6+)
            "use_bullet_points": True,
            "use_numbers": True,
            "use_examples": True,
            "use_questions": False,
            "intro_style": "informative",  # hook, informative, question
            "conclusion_style": "summary"  # summary, call_to_action, question
        }
        
        # ì„¹ì…˜ ìˆ˜ ë¶„ì„
        if any(word in guidelines_lower for word in ["ê°„ë‹¨í•˜ê²Œ", "ì§§ê²Œ", "ìš”ì•½"]):
            structure["section_count"] = "short"
        elif any(word in guidelines_lower for word in ["ìì„¸í•˜ê²Œ", "ìƒì„¸í•˜ê²Œ", "ê¹Šì´"]):
            structure["section_count"] = "long"
        
        # êµ¬ì¡° ìš”ì†Œ ë¶„ì„
        if any(word in guidelines_lower for word in ["ì§ˆë¬¸", "ê¶ê¸ˆ", "ë¬¼ì–´"]):
            structure["use_questions"] = True
            structure["intro_style"] = "question"
        
        if any(word in guidelines_lower for word in ["ì˜ˆì‹œ", "ì‚¬ë¡€", "ê²½í—˜"]):
            structure["use_examples"] = True
        
        return structure

    def _generate_guidelines_intro(self, keyword: str, writing_style: dict, guidelines_lower: str) -> str:
        """ì§€ì¹¨ì— ë§ëŠ” ë„ì…ë¶€ ìƒì„±"""
        
        if writing_style["use_emojis"] and writing_style["formality"] == "casual":
            if writing_style["sentence_style"] == "short":
                return f"""ì•ˆë…•! ğŸ˜Š ì˜¤ëŠ˜ì€ {keyword}ì— ëŒ€í•´ ì´ì•¼ê¸°í•´ë³¼ê²Œ!

{keyword}ê°€ ë­”ì§€ ê¶ê¸ˆí•˜ì§€? ë‚˜ë„ ì²˜ìŒì—” ì˜ ëª°ëì–´. ê·¼ë° ì•Œê³  ë³´ë‹ˆê¹Œ ì •ë§ ìœ ìš©í•œ ê±°ë”ë¼! ğŸ˜„

ì´ ê¸€ì—ì„œëŠ”:
- {keyword}ê°€ ë­”ì§€ ì‰½ê²Œ ì„¤ëª…í• ê²Œ
- ì–´ë–»ê²Œ í™œìš©í•˜ëŠ”ì§€ ì•Œë ¤ì¤„ê²Œ  
- ì‹¤ì œë¡œ ë„ì›€ë˜ëŠ” íŒë“¤ ê³µìœ í• ê²Œ
- ì£¼ì˜í•  ì ë“¤ë„ ë§í•´ì¤„ê²Œ

ì¤€ë¹„ëì–´? ê·¸ëŸ¼ ì‹œì‘í•´ë³´ì! ğŸ‘"""
            else:
                return f"""ì•ˆë…•í•˜ì„¸ìš”! ğŸ˜Š ì˜¤ëŠ˜ì€ {keyword}ì— ëŒ€í•´ì„œ í•¨ê»˜ ì•Œì•„ë³´ë ¤ê³  í•´ìš”.

{keyword}ì€ ì •ë§ ìœ ìš©í•œ ê²ƒ ê°™ì•„ìš”. ì €ë„ ì²˜ìŒì—ëŠ” ì˜ ëª°ëëŠ”ë°, ì•Œê³  ë‚˜ë‹ˆê¹Œ ìƒí™œì´ ë§ì´ ë‹¬ë¼ì¡Œê±°ë“ ìš”! ğŸ˜„ ì—¬ëŸ¬ë¶„ë“¤ë„ ë¶„ëª…íˆ ë„ì›€ì´ ë  ê±°ë¼ê³  ìƒê°í•´ìš”.

ì´ ê¸€ì—ì„œëŠ” {keyword}ì˜ ê¸°ë³¸ ê°œë…ë¶€í„° ì‹œì‘í•´ì„œ, ì‹¤ì œë¡œ ì–´ë–»ê²Œ í™œìš©í•  ìˆ˜ ìˆëŠ”ì§€, ê·¸ë¦¬ê³  ì£¼ì˜í•´ì•¼ í•  ì ë“¤ê¹Œì§€ ëª¨ë‘ ë‹¤ë¤„ë³¼ê²Œìš”. í•¨ê»˜ ì°¨ê·¼ì°¨ê·¼ ì•Œì•„ê°€ë´ìš”! ğŸ‘"""
        
        elif writing_style["formality"] == "casual":
            if writing_style["sentence_style"] == "short":
                return f"""{keyword}ì— ëŒ€í•´ ì•Œì•„ë³´ì.

{keyword}ëŠ” ìš”ì¦˜ ë§ì€ ì‚¬ëŒë“¤ì´ ê´€ì‹¬ì„ ê°€ì§€ëŠ” ì£¼ì œì•¼. ë‚˜ë„ ì²˜ìŒì—” ì˜ ëª°ëëŠ”ë°, ì•Œê³  ë³´ë‹ˆ ì •ë§ ìœ ìš©í•´.

ì´ ê¸€ì—ì„œ ë‹¤ë£° ë‚´ìš©:
- {keyword}ì˜ ê¸°ë³¸ ê°œë…
- ì‹¤ì œ í™œìš© ë°©ë²•
- ë„ì›€ë˜ëŠ” íŒë“¤
- ì£¼ì˜ì‚¬í•­

ë°”ë¡œ ì‹œì‘í•´ë³´ì!"""
            else:
                return f"""{keyword}ì— ëŒ€í•´ì„œ ì´ì•¼ê¸°í•´ë³´ë ¤ê³  í•´.

{keyword}ëŠ” ìƒê°ë³´ë‹¤ ìš°ë¦¬ ìƒí™œê³¼ ë°€ì ‘í•œ ê´€ë ¨ì´ ìˆì–´. ë§ì€ ì‚¬ëŒë“¤ì´ ì´ë¯¸ í™œìš©í•˜ê³  ìˆì§€ë§Œ, ì •í™•íˆ ì–´ë–¤ ê±´ì§€ ëª¨ë¥´ëŠ” ê²½ìš°ê°€ ë§ë”ë¼ê³ . 

ì´ ê¸€ì—ì„œëŠ” {keyword}ì˜ ê¸°ë³¸ ê°œë…ë¶€í„° ì‹œì‘í•´ì„œ, ì‹¤ì œë¡œ ì–´ë–»ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ì§€, ê·¸ë¦¬ê³  ì•Œì•„ë‘ë©´ ì¢‹ì€ íŒë“¤ê¹Œì§€ ëª¨ë‘ ì •ë¦¬í•´ë´¤ì–´. í•¨ê»˜ ì•Œì•„ë³´ì!"""
        
        else:  # formal
            return f"""{keyword}ì— ëŒ€í•œ ì™„ë²½í•œ ê°€ì´ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤.

{keyword}ì€ í˜„ëŒ€ ì‚¬íšŒì—ì„œ ì ì  ë” ì¤‘ìš”í•´ì§€ê³  ìˆëŠ” ì£¼ì œì…ë‹ˆë‹¤. ì „ë¬¸ê°€ë“¤ì˜ ì¡°ì–¸ê³¼ ì‹¤ì œ ê²½í—˜ì„ ë°”íƒ•ìœ¼ë¡œ ì²´ê³„ì ì´ê³  ì‹¤ìš©ì ì¸ ì •ë³´ë¥¼ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.

ì´ ê¸€ì—ì„œëŠ” {keyword}ì˜ ê¸°ë³¸ ê°œë…ê³¼ í•µì‹¬ í¬ì¸íŠ¸, ë‹¨ê³„ë³„ í™œìš© ë°©ë²•, ì‹¤ì œ ì ìš© ì‚¬ë¡€, ì „ë¬¸ê°€ ì¶”ì²œ íŒì„ ë‹¤ë£¹ë‹ˆë‹¤."""

    def _generate_guidelines_main_content(self, keyword: str, category: str, length: str, writing_style: dict, content_structure: dict) -> str:
        """ì§€ì¹¨ì— ë§ëŠ” ë©”ì¸ ì½˜í…ì¸  ìƒì„±"""
        
        # ì„¹ì…˜ ìˆ˜ ê²°ì •
        if content_structure["section_count"] == "short":
            section_count = 3
        elif content_structure["section_count"] == "long":
            section_count = 6
        else:
            section_count = 4
        
        content_parts = []
        
        for i in range(1, section_count + 1):
            if writing_style["formality"] == "casual" and writing_style["use_emojis"]:
                if i == 1:
                    content_parts.append(f"## {i}. {keyword}ê°€ ë­˜ê¹Œ? ğŸ¤”")
                    if writing_style["sentence_style"] == "short":
                        content_parts.append(f"""{keyword}ì— ëŒ€í•´ ì‰½ê²Œ ì„¤ëª…í•´ë³¼ê²Œ! ğŸ˜Š

ê°„ë‹¨íˆ ë§í•˜ë©´:
- ì •ë§ ìœ ìš©í•œ ê±°ì•¼
- ìƒê°ë³´ë‹¤ ì‰¬ì›Œ
- ëˆ„êµ¬ë‚˜ í•  ìˆ˜ ìˆì–´
- íš¨ê³¼ë„ ì¢‹ì•„

ì²˜ìŒì—” ì–´ë ¤ì›Œ ë³´ì¼ ìˆ˜ ìˆì–´. í•˜ì§€ë§Œ ê±±ì • ë§ˆ! ì°¨ê·¼ì°¨ê·¼ ë”°ë¼í•˜ë©´ ë¼. ğŸ’ª""")
                    else:
                        content_parts.append(f"""{keyword}ì— ëŒ€í•´ì„œ ìì„¸íˆ ì•Œì•„ë³´ì! ğŸ˜Š

{keyword}ëŠ” ìƒê°ë³´ë‹¤ ë³µì¡í•˜ì§€ ì•Šì•„. ê¸°ë³¸ ì›ë¦¬ë§Œ ì´í•´í•˜ë©´ ëˆ„êµ¬ë‚˜ ì‰½ê²Œ í™œìš©í•  ìˆ˜ ìˆê±°ë“ . ë§ì€ ì‚¬ëŒë“¤ì´ ì–´ë µê²Œ ìƒê°í•˜ëŠ”ë°, ì‹¤ì œë¡œëŠ” ê·¸ë ‡ì§€ ì•Šì•„.

ì£¼ìš” íŠ¹ì§•ë“¤:
- ì ‘ê·¼í•˜ê¸° ì‰¬ìš´ ë°©ë²•ë“¤ì´ ë§ì•„
- ë‹¨ê³„ë³„ë¡œ ë”°ë¼í•  ìˆ˜ ìˆì–´  
- ì‹¤ì œ íš¨ê³¼ë¥¼ ë¹¨ë¦¬ ë³¼ ìˆ˜ ìˆì–´
- ë¹„ìš© ë¶€ë‹´ë„ í¬ì§€ ì•Šì•„

ì´ì œ êµ¬ì²´ì ìœ¼ë¡œ ì–´ë–»ê²Œ ì‹œì‘í•˜ëŠ”ì§€ ì•Œì•„ë³´ì! ğŸ’ª""")
                
                elif i == 2:
                    content_parts.append(f"## {i}. ì–´ë–»ê²Œ ì‹œì‘í•˜ì§€? ğŸš€")
                    content_parts.append(f"""{keyword} ì‹œì‘í•˜ëŠ” ë°©ë²•ì„ ì•Œë ¤ì¤„ê²Œ!

ì²« ë²ˆì§¸ ë‹¨ê³„:
- ê¸°ë³¸ ì¤€ë¹„ë¬¼ ì±™ê¸°ê¸°
- ë§ˆìŒì˜ ì¤€ë¹„í•˜ê¸°  
- ëª©í‘œ ì •í•˜ê¸°

ë‘ ë²ˆì§¸ ë‹¨ê³„:
- ì²œì²œíˆ ì‹œì‘í•˜ê¸°
- ê¾¸ì¤€íˆ í•˜ê¸°
- ê¸°ë¡í•˜ê¸°

ì–´ë ¤ìš°ë©´ ì–¸ì œë“  ì‰¬ì–´ë„ ë¼! ğŸ˜Œ""")
                
                else:
                    content_parts.append(f"## {i}. ë” ì•Œì•„ë³´ê¸° ğŸ“š")
                    content_parts.append(f"""{keyword}ì— ëŒ€í•´ ë” ê¹Šì´ ì•Œì•„ë³´ì!

ì¶”ê°€ë¡œ ì•Œë©´ ì¢‹ì€ ê²ƒë“¤:
- ì „ë¬¸ê°€ë“¤ì˜ ì¡°ì–¸
- ì‹¤ì œ ê²½í—˜ë‹´
- í”¼í•´ì•¼ í•  ì‹¤ìˆ˜ë“¤
- ë” ë‚˜ì€ ë°©ë²•ë“¤

ê³„ì† ë°°ìš°ë©´ì„œ ë°œì „ì‹œì¼œë‚˜ê°€ë©´ ë¼! ğŸŒŸ""")
            
            elif writing_style["formality"] == "casual":
                if i == 1:
                    content_parts.append(f"## {i}. {keyword} ê¸°ë³¸ ê°œë…")
                    content_parts.append(f"""{keyword}ì— ëŒ€í•´ ì•Œì•„ë³´ì.

{keyword}ëŠ” ë§ì€ ì‚¬ëŒë“¤ì´ í™œìš©í•˜ê³  ìˆëŠ” ë°©ë²•ì´ì•¼. ê¸°ë³¸ ì›ë¦¬ëŠ” ê°„ë‹¨í•´.

í•µì‹¬ í¬ì¸íŠ¸:
- ì´í•´í•˜ê¸° ì‰¬ìš´ ê°œë…
- ì‹¤ìš©ì ì¸ ì ‘ê·¼ë²•
- ì¦‰ì‹œ ì ìš© ê°€ëŠ¥
- ì§€ì†ì ì¸ íš¨ê³¼

ì²˜ìŒì—ëŠ” ë³µì¡í•´ ë³´ì¼ ìˆ˜ ìˆì–´. í•˜ì§€ë§Œ í•œ ë²ˆ ìµíˆë©´ ì •ë§ ìœ ìš©í•´.""")
                
                else:
                    content_parts.append(f"## {i}. {keyword} í™œìš© ë°©ë²•")
                    content_parts.append(f"""ì‹¤ì œë¡œ {keyword}ë¥¼ ì–´ë–»ê²Œ í™œìš©í•˜ëŠ”ì§€ ì•Œì•„ë³´ì.

ë‹¨ê³„ë³„ ë°©ë²•:
1. ê¸°ë³¸ ì¤€ë¹„ ë‹¨ê³„
2. ì‹¤í–‰ ë‹¨ê³„  
3. ì ê²€ ë° ê°œì„  ë‹¨ê³„
4. ì§€ì†ì  ë°œì „ ë‹¨ê³„

ê° ë‹¨ê³„ë§ˆë‹¤ ì¤‘ìš”í•œ í¬ì¸íŠ¸ë“¤ì´ ìˆì–´. ë†“ì¹˜ì§€ ë§ê³  ì²´í¬í•´ë³´ì.""")
            
            else:  # formal
                if i == 1:
                    content_parts.append(f"## {i}. {keyword}ì˜ ê¸°ë³¸ ê°œë…ê³¼ ì¤‘ìš”ì„±")
                    content_parts.append(f"""{keyword}ì— ëŒ€í•œ ê¸°ë³¸ì ì¸ ì´í•´ê°€ í•„ìš”í•©ë‹ˆë‹¤.

{keyword}ì€ í˜„ëŒ€ ì‚¬íšŒì—ì„œ ì¤‘ìš”í•œ ì—­í• ì„ í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì „ë¬¸ê°€ë“¤ì€ ì´ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ëª…í•©ë‹ˆë‹¤:

ì£¼ìš” íŠ¹ì§•:
- ì²´ê³„ì ì¸ ì ‘ê·¼ë²•ì´ í•„ìš”í•œ ì˜ì—­
- ê³¼í•™ì  ê·¼ê±°ì— ê¸°ë°˜í•œ ë°©ë²•ë¡ 
- ì‹¤ë¬´ì—ì„œ ê²€ì¦ëœ íš¨ê³¼ì„±
- ì§€ì†ì ì¸ ê°œì„ ì´ ê°€ëŠ¥í•œ ì‹œìŠ¤í…œ

ì˜¬ë°”ë¥¸ ì´í•´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì²´ê³„ì ìœ¼ë¡œ ì ‘ê·¼í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.""")
                
                else:
                    content_parts.append(f"## {i}. {keyword} ì‹¤ë¬´ ì ìš© ë°©ì•ˆ")
                    content_parts.append(f"""ì‹¤ì œ ì—…ë¬´ë‚˜ ì¼ìƒì—ì„œ {keyword}ë¥¼ ì ìš©í•˜ëŠ” êµ¬ì²´ì ì¸ ë°©ë²•ì„ ì œì‹œí•©ë‹ˆë‹¤.

ì²´ê³„ì  ì ‘ê·¼ë²•:
1. í˜„í™© ë¶„ì„ ë° ëª©í‘œ ì„¤ì •
2. ë‹¨ê³„ë³„ ì‹¤í–‰ ê³„íš ìˆ˜ë¦½
3. ì§€ì†ì  ëª¨ë‹ˆí„°ë§ ë° í‰ê°€
4. ê°œì„ ì‚¬í•­ ë„ì¶œ ë° ì ìš©

ê° ë‹¨ê³„ë³„ë¡œ ê³ ë ¤í•´ì•¼ í•  í•µì‹¬ ìš”ì†Œë“¤ê³¼ ì‹¤ë¬´ ì ìš© ì‹œ ì£¼ì˜ì‚¬í•­ì„ ìƒì„¸íˆ ë‹¤ë£¨ê² ìŠµë‹ˆë‹¤.""")
            
            content_parts.append("---\n")
        
        return "\n\n".join(content_parts)

    def _generate_guidelines_faq(self, keyword: str, writing_style: dict) -> str:
        """ì§€ì¹¨ì— ë§ëŠ” FAQ ìƒì„±"""
        
        if writing_style["formality"] == "casual" and writing_style["use_emojis"]:
            return f"""## ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ë“¤ ğŸ’­

**Q1: {keyword} ì²˜ìŒì¸ë° ì–´ë µì§€ ì•Šì„ê¹Œ? ğŸ˜°**
A1: ì „í˜€! ìƒê°ë³´ë‹¤ ì‰¬ì›Œ. ì°¨ê·¼ì°¨ê·¼ ë”°ë¼í•˜ë©´ ëˆ„êµ¬ë‚˜ í•  ìˆ˜ ìˆì–´! ğŸ˜Š

**Q2: ì–¼ë§ˆë‚˜ ì‹œê°„ì´ ê±¸ë¦´ê¹Œ? â°** 
A2: ê°œì¸ì°¨ê°€ ìˆì§€ë§Œ ë³´í†µ 2-3ì£¼ë©´ ê¸°ë³¸ì€ ìµí ìˆ˜ ìˆì–´!

**Q3: ë¹„ìš©ì´ ë§ì´ ë“¤ê¹Œ? ğŸ’°**
A3: ì•„ë‹ˆì•¼! ê¸°ë³¸ì ì¸ ê²ƒë§Œìœ¼ë¡œë„ ì¶©ë¶„íˆ ì‹œì‘í•  ìˆ˜ ìˆì–´!"""
        
        elif writing_style["formality"] == "casual":
            return f"""## ìì£¼ ë¬»ëŠ” ì§ˆë¬¸

**Q1: {keyword} ì´ˆë³´ìë„ ê°€ëŠ¥í•œê°€?**
A1: ë¬¼ë¡ ì´ì§€! ëˆ„êµ¬ë‚˜ ì‹œì‘í•  ìˆ˜ ìˆì–´. ê¸°ë³¸ë¶€í„° ì²œì²œíˆ ë°°ì›Œë‚˜ê°€ë©´ ë¼.

**Q2: íš¨ê³¼ë¥¼ ë³´ë ¤ë©´ ì–¼ë§ˆë‚˜ ê±¸ë ¤?**
A2: ê°œì¸ì°¨ê°€ ìˆì§€ë§Œ ê¾¸ì¤€íˆ í•˜ë©´ 1-2ê°œì›” ì•ˆì— ë³€í™”ë¥¼ ëŠë‚„ ìˆ˜ ìˆì–´.

**Q3: í˜¼ìì„œë„ í•  ìˆ˜ ìˆì–´?**
A3: ë‹¹ì—°í•´! í˜¼ìì„œë„ ì¶©ë¶„íˆ í•  ìˆ˜ ìˆì–´. í•„ìš”í•˜ë©´ ì˜¨ë¼ì¸ì—ì„œ ì •ë³´ë„ ì°¾ì„ ìˆ˜ ìˆê³ ."""
        
        else:  # formal
            return f"""## ìì£¼ ë¬»ëŠ” ì§ˆë¬¸

**Q1: {keyword}ë¥¼ ì²˜ìŒ ì‹œì‘í•˜ëŠ” ì´ˆë³´ìì—ê²Œ ê¶Œí•˜ëŠ” ë°©ë²•ì€?**
A1: ê¸°ì´ˆ ì´ë¡  í•™ìŠµë¶€í„° ì‹œì‘í•˜ì—¬ ë‹¨ê³„ì ìœ¼ë¡œ ì‹¤ë¬´ì— ì ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.

**Q2: íš¨ê³¼ì ì¸ ê²°ê³¼ë¥¼ ì–»ê¸°ê¹Œì§€ í•„ìš”í•œ ê¸°ê°„ì€?**
A2: ê°œì¸ì˜ ìƒí™©ê³¼ ë…¸ë ¥ì— ë”°ë¼ ë‹¤ë¥´ì§€ë§Œ, ì¼ë°˜ì ìœ¼ë¡œ 3-6ê°œì›”ì˜ ì§€ì†ì ì¸ ì‹¤ì²œì´ í•„ìš”í•©ë‹ˆë‹¤.

**Q3: ì „ë¬¸ê°€ì˜ ë„ì›€ ì—†ì´ë„ ê°€ëŠ¥í•œê°€ìš”?**
A3: ê¸°ë³¸ì ì¸ ë‚´ìš©ì€ ìê°€ í•™ìŠµì´ ê°€ëŠ¥í•˜ë‚˜, ë” ë‚˜ì€ ê²°ê³¼ë¥¼ ìœ„í•´ì„œëŠ” ì „ë¬¸ê°€ì˜ ì¡°ì–¸ì„ ë°›ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤."""

    def _generate_guidelines_conclusion(self, keyword: str, writing_style: dict) -> str:
        """ì§€ì¹¨ì— ë§ëŠ” ë§ˆë¬´ë¦¬ ìƒì„±"""
        
        if writing_style["formality"] == "casual" and writing_style["use_emojis"]:
            return f"""## ë§ˆë¬´ë¦¬ ğŸ¯

{keyword}ì— ëŒ€í•´ ì•Œì•„ë´¤ì–´! ì–´ë• ì–´? ğŸ˜Š

ì˜¤ëŠ˜ ë°°ìš´ ê²ƒë“¤:
- {keyword}ì˜ ê¸°ë³¸ ê°œë… âœ…
- ì‹œì‘í•˜ëŠ” ë°©ë²• âœ…  
- ì£¼ì˜í•  ì ë“¤ âœ…
- ìœ ìš©í•œ íŒë“¤ âœ…

ì´ì œ ì§ì ‘ í•´ë³¼ ì°¨ë¡€ì•¼! ì²˜ìŒì—” ì–´ë ¤ì›Œë„ ê´œì°®ì•„. ì²œì²œíˆ í•˜ë‚˜ì”© í•´ë³´ì! ğŸ’ª

ê¶ê¸ˆí•œ ê²Œ ìˆìœ¼ë©´ ì–¸ì œë“  ëŒ“ê¸€ë¡œ ë¬¼ì–´ë´! í•¨ê»˜ ë°°ì›Œë‚˜ê°€ì! ğŸŒŸ"""
        
        elif writing_style["formality"] == "casual":
            return f"""## ë§ˆë¬´ë¦¬

{keyword}ì— ëŒ€í•´ì„œ í•¨ê»˜ ì•Œì•„ë´¤ì–´.

í•µì‹¬ ë‚´ìš© ì •ë¦¬:
- {keyword}ì˜ ì¤‘ìš”ì„±ê³¼ ê¸°ë³¸ ê°œë…
- ì‹¤ì œ ì ìš© ê°€ëŠ¥í•œ ë°©ë²•ë“¤
- ì•Œì•„ë‘ë©´ ì¢‹ì€ íŒê³¼ ì£¼ì˜ì‚¬í•­

ì´ì œ ì‹¤ì œë¡œ ì ìš©í•´ë³´ëŠ” ê²Œ ì¤‘ìš”í•´. ì²˜ìŒì—ëŠ” ì–´ë ¤ì›Œë„ ê¾¸ì¤€íˆ í•˜ë‹¤ ë³´ë©´ ë¶„ëª… íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆì„ ê±°ì•¼.

{keyword}ì— ëŒ€í•œ ê²½í—˜ì´ë‚˜ ì§ˆë¬¸ì´ ìˆìœ¼ë©´ ëŒ“ê¸€ë¡œ ê³µìœ í•´ì¤˜!"""
        
        else:  # formal
            return f"""## ë§ˆë¬´ë¦¬

{keyword}ì— ëŒ€í•œ ì¢…í•©ì ì¸ ì •ë³´ë¥¼ ì œê³µí–ˆìŠµë‹ˆë‹¤.

í•µì‹¬ ìš”ì•½:
- {keyword}ì˜ ê¸°ë³¸ ê°œë…ê³¼ ì¤‘ìš”ì„±
- ì²´ê³„ì ì¸ ì ìš© ë°©ë²•ë¡ 
- ì‹¤ë¬´ì—ì„œ í™œìš© ê°€ëŠ¥í•œ ì „ëµ
- ì „ë¬¸ê°€ ê¶Œì¥ ì‚¬í•­

ì„±ê³µì ì¸ {keyword} í™œìš©ì„ ìœ„í•´ì„œëŠ” ì§€ì†ì ì¸ í•™ìŠµê³¼ ì‹¤ì²œì´ í•„ìš”í•©ë‹ˆë‹¤. 

{keyword}ì— ëŒ€í•œ ì¶”ê°€ ì§ˆë¬¸ì´ë‚˜ ê²½í—˜ ê³µìœ ëŠ” ëŒ“ê¸€ì„ í†µí•´ í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤."""

    def _apply_final_guidelines(self, content: str, guidelines_lower: str) -> str:
        """ìµœì¢… ì§€ì¹¨ ì ìš© ë° ì¡°ì •"""
        
        # ê¸¸ì´ ì¡°ì •
        if "ì§§ê²Œ" in guidelines_lower or "ê°„ë‹¨" in guidelines_lower:
            # ê¸´ ë¬¸ë‹¨ì„ ë” ì§§ê²Œ ë‚˜ëˆ„ê¸°
            content = content.replace("í•©ë‹ˆë‹¤. ", "í•©ë‹ˆë‹¤.\n\n")
            content = content.replace("ìŠµë‹ˆë‹¤. ", "ìŠµë‹ˆë‹¤.\n\n")
        
        # ê°ì • í‘œí˜„ ì¡°ì •
        if "ì´ëª¨í‹°ì½˜" in guidelines_lower:
            # ì´ë¯¸ ì´ëª¨í‹°ì½˜ì´ ì ìš©ëœ ìƒíƒœì´ë¯€ë¡œ ì¶”ê°€ ì¡°ì • ì—†ìŒ
            pass
        
        # ë¬¸ì²´ ì¼ê´€ì„± ì²´í¬
        if "ë°˜ë§" in guidelines_lower:
            # ì¡´ëŒ“ë§ì„ ë°˜ë§ë¡œ ë³€ê²½
            content = content.replace("í•©ë‹ˆë‹¤", "í•´")
            content = content.replace("ìŠµë‹ˆë‹¤", "ì–´")
            content = content.replace("ì…ë‹ˆë‹¤", "ì•¼")
            content = content.replace("ë©ë‹ˆë‹¤", "ë¼")
            content = content.replace("ìˆìŠµë‹ˆë‹¤", "ìˆì–´")
            content = content.replace("ì—†ìŠµë‹ˆë‹¤", "ì—†ì–´")
        
        # ë¬¸ì¥ ê¸¸ì´ ì¡°ì •
        if "ì§§ì€ ë¬¸ì¥" in guidelines_lower:
            # ê¸´ ë¬¸ì¥ì„ ì§§ê²Œ ë‚˜ëˆ„ê¸°
            import re
            # ì ‘ì†ì‚¬ ì•ì—ì„œ ë¬¸ì¥ ë‚˜ëˆ„ê¸°
            content = re.sub(r'([,]) (í•˜ì§€ë§Œ|ê·¸ëŸ¬ë‚˜|ë˜í•œ|ê·¸ë¦¬ê³ |ë”°ë¼ì„œ)', r'.\n\n\2', content)
        
        return content

# ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
smart_generator = SmartContentGenerator()